<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.4. Basic structure &mdash; RSMP Specification 3.2.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="4.5. Error handling" href="error_handling.html" />
    <link rel="prev" title="4.3. Transport of data" href="transport_of_data.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> RSMP Specification
          </a>
              <div class="version">
                3.2.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../definitions.html">1. Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">2. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../purpose.html">3. Purpose</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../applicability.html">4. Applicability</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="scope.html">4.1. Scope</a></li>
<li class="toctree-l2"><a class="reference internal" href="object_model.html">4.2. Object model</a></li>
<li class="toctree-l2"><a class="reference internal" href="transport_of_data.html">4.3. Transport of data</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.4. Basic structure</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#alarm-messages">4.4.1. Alarm messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#message-structure">4.4.1.1. Message structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-exchange-between-site-and-supervision-system">4.4.1.2. Message exchange between site and supervision system</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#aggregated-status-message">4.4.2. Aggregated status message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">4.4.2.1. Message structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#aggregated-status-request-message">4.4.3. Aggregated status request message</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">4.4.3.1. Message structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">4.4.3.2. Message exchange between site and supervision system</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#status-messages">4.4.4. Status Messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id12">4.4.4.1. Message structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-exchange-between-site-and-supervision-system-other-equipment-request">4.4.4.2. Message exchange between site and supervision system/other equipment - request</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-exchange-between-site-and-supervision-system-other-equipment-subscription">4.4.4.3. Message exchange between site and supervision system/other equipment - subscription</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#command-messages">4.4.5. Command messages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id17">4.4.5.1. Message structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-exchange-between-site-and-supervision-system-other-equipment">4.4.5.2. Message exchange between site and supervision system/other equipment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#message-acknowledgement">4.4.6. Message acknowledgement</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#message-structure-message-acknowledgement">4.4.6.1. Message structure – Message acknowledgement</a></li>
<li class="toctree-l4"><a class="reference internal" href="#message-structure-message-not-acknowledged">4.4.6.2. Message structure – Message not acknowledged</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id24">4.4.6.3. Message exchange between site and supervision system/other equipment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rsmp-sxl-version">4.4.7. RSMP/SXL Version</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id25">4.4.7.1. Message structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#watchdog">4.4.8. Watchdog</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id27">4.4.8.1. Message structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id28">4.4.8.2. Message exchange between site and supervision system/other equipment</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="error_handling.html">4.5. Error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_types.html">4.6. Data types</a></li>
<li class="toctree-l2"><a class="reference internal" href="sxl.html">4.7. Signal Exchange List</a></li>
<li class="toctree-l2"><a class="reference internal" href="site_configuration.html">4.8. Site configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../changelog.html">5. Change log</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">RSMP Specification</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../applicability.html"><span class="section-number">4. </span>Applicability</a> &raquo;</li>
      <li><span class="section-number">4.4. </span>Basic structure</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/applicability/basic_structure.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="basic-structure">
<span id="id1"></span><h1><span class="section-number">4.4. </span>Basic structure<a class="headerlink" href="#basic-structure" title="Permalink to this headline"></a></h1>
<p>Unicode (ISO 10646) and UTF-8 are used for all messages. Please note that
the JSon elements are formatted as JSon string elements and not as JSon
number elements or as JSon boolean elements, with the exception of the
message type “aggregated status” and “status subscribe” where
JSon boolean elements are used.</p>
<p>The reason why JSon string elements are heavily used is to simplify
deserialisation of values where the data type in unknown before casting is
performed, for instance for the values in “return values”.</p>
<p>Parsing needs to be performed case sensitive.
All enum values (e.g. <a class="reference internal" href="#alarm-status"><span class="std std-ref">Alarm status</span></a>) must use the exact casing stated
in this specification.</p>
<p>Empty values are sent as <strong>“”</strong> for simple values and as <strong>[]</strong> for arrays.
Optional values can be omitted, but can not be sent as <strong>null</strong> unless
otherwise stated.</p>
<p>In the following example the message type is an alarm message.</p>
<div class="highlight-json notranslate" id="json-basic"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E68A0010-C336-41ac-BD58-5C80A72C7092&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;F+40100=416CG100&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;23055&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860SG001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Serious lamp error&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3143&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Issue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notAcknowledged&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notSuspended&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2009-10-01T11:59:31.571Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;pri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;color&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;red&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 2: An RSMP message</p>
<p>The following table is describing the variable content of all message types.</p>
<table class="docutils align-default" id="id29">
<caption><span class="caption-number">Table 4.2 </span><span class="caption-text">Variable content</span><a class="headerlink" href="#id29" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 12%" />
<col style="width: 34%" />
<col style="width: 53%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>mType</p></td>
<td><p>rSMsg</p></td>
<td><p>RSMP identifier</p></td>
</tr>
<tr class="row-odd"><td rowspan="14"><p>type</p></td>
<td><p>Alarm</p></td>
<td><p>Alarm message</p></td>
</tr>
<tr class="row-even"><td><p>AggregatedStatus</p></td>
<td><p>Aggregated status message</p></td>
</tr>
<tr class="row-odd"><td><p>AggregatedStatusRequest</p></td>
<td><p>Aggregated status request message</p></td>
</tr>
<tr class="row-even"><td><p>StatusRequest</p></td>
<td><p>Status message. Request status</p></td>
</tr>
<tr class="row-odd"><td><p>StatusResponse</p></td>
<td><p>Status message. Status response</p></td>
</tr>
<tr class="row-even"><td><p>StatusSubscribe</p></td>
<td><p>Status message. Start subscription</p></td>
</tr>
<tr class="row-odd"><td><p>StatusUpdate</p></td>
<td><p>Status message. Update of status</p></td>
</tr>
<tr class="row-even"><td><p>StatusUnsubscribe</p></td>
<td><p>Status message. End subscription</p></td>
</tr>
<tr class="row-odd"><td><p>CommandRequest</p></td>
<td><p>Command message. Request command</p></td>
</tr>
<tr class="row-even"><td><p>CommandResponse</p></td>
<td><p>Command message. Response of command</p></td>
</tr>
<tr class="row-odd"><td><p>MessageAck</p></td>
<td><p>Message acknowledegment. Successful</p></td>
</tr>
<tr class="row-even"><td><p>MessageNotAck</p></td>
<td><p>Message acknowledegment. Unsuccessful</p></td>
</tr>
<tr class="row-odd"><td><p>Version</p></td>
<td><p>RSMP / SXL version message</p></td>
</tr>
<tr class="row-even"><td><p>Watchdog</p></td>
<td><p>Watchdog message</p></td>
</tr>
<tr class="row-odd"><td><p>mId
<em>(or)</em>
oMId</p></td>
<td><p><em>(GUID)</em></p></td>
<td><p>Message identity</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p><strong>mId</strong> is generated as GUID (Globally unique identifier) in the equipment
that sent the message</p></li>
<li><p><strong>mId</strong> is used in all messages as a reference for the message ack</p></li>
<li><p><strong>oMId</strong> is used in the message ack to refer to the message which is being acked</p></li>
<li><p>Only version 4 of Leach-Salz UUID is used for the GUID</p></li>
<li><p>Each message sent should have a new GUID, even if the message is resent or the
content is the same</p></li>
</ul>
</div>
<p>The following table describes the variable content in all message types
which is defined by the signal exchange list (SXL), except version
messages, message acknowledgement messages and watchdog messages.</p>
<p>The <em>Site config</em> columns describes the correlation between the JSon
elements and the titles in the <a class="reference internal" href="site_configuration.html#site-configuration"><span class="std std-ref">Site configuration</span></a>.</p>
<table class="docutils align-default" id="id30">
<caption><span class="caption-number">Table 4.3 </span><span class="caption-text">Variable content defined by SXL</span><a class="headerlink" href="#id30" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 12%" />
<col style="width: 20%" />
<col style="width: 19%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Site config (Excel)</p></th>
<th class="head"><p>Site config (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ntsOId</p></td>
<td><p>NTSObjectId</p></td>
<td><p>ntsObjectId</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Component-id"><span class="xref std std-term">Component id</span></a> for the <a class="reference internal" href="../definitions.html#term-NTS-object"><span class="xref std std-term">NTS object</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>xNId</p></td>
<td><p>externalNtsId</p></td>
<td><p>externalNtsId</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-External-NTS-id"><span class="xref std std-term">External NTS id</span></a></p></td>
</tr>
<tr class="row-even"><td><p>cId</p></td>
<td><p>componentId</p></td>
<td><p>componentId</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Component-id"><span class="xref std std-term">Component id</span></a></p></td>
</tr>
</tbody>
</table>
<section id="alarm-messages">
<span id="id2"></span><h2><span class="section-number">4.4.1. </span>Alarm messages<a class="headerlink" href="#alarm-messages" title="Permalink to this headline"></a></h2>
<p>An alarm message is sent to the supervision system when:</p>
<ul class="simple">
<li><p>An alarm becomes active / inactive</p></li>
<li><p>An alarm is requested</p></li>
<li><p>An alarm is acknowledged</p></li>
<li><p>An alarm is being suspended / un-suspended</p></li>
</ul>
<p>An acknowledgment of an alarm does not cause a single alarm event to
be acknowledged but all alarm events for the specific object with the
associated alarm code id. This approach simplifies both in
implementation but also in handling - if many alarms occur on the same
equipment with short time intervals.</p>
<p>The ability to request an alarms is used in case the supervision system
looses track of the latest state of the alarms.</p>
<p>A suspend of an alarm causes all alarms from the specific object with
the associated alarm code id to be suspended. This means that alarm messages
stops being sent from the site as long as the suspension is active. As soon
as the suspension is inactivated alarms can be sent again.</p>
<p>Suspending alarms does not affect alarm acknowledgment. This means that
when unsuspending an alarm an alarm can be inactive and not acknowledged.</p>
<p>Alarm messages are event driven and sent to the supervision system
when the alarm occurs. Acknowledgement of alarms and alarm suspend
messages are interaction driven.</p>
<p>Alarm events are referring to ‘active’ (aSp:Issue), ‘suspended’ (aSp:Suspend)
and ‘acknowledged’ (aSp:Acknowledged).</p>
<p>The timestamp (aTs) reflects the individual event according to the
element ‘aSp’.</p>
<section id="message-structure">
<h3><span class="section-number">4.4.1.1. </span>Message structure<a class="headerlink" href="#message-structure" title="Permalink to this headline"></a></h3>
<section id="structure-of-an-alarm-message">
<span id="id3"></span><h4><span class="section-number">4.4.1.1.1. </span>Structure of an alarm message<a class="headerlink" href="#structure-of-an-alarm-message" title="Permalink to this headline"></a></h4>
<p>An alarm message has the structure according to the example below.</p>
<div class="highlight-json notranslate" id="json-alarm-issue"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E68A0010-C336-41ac-BD58-5C80A72C7092&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;F+40100=416CG100&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;23055&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860SG001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Serious lamp error&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3143&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Issue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;ack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notAcknowledged&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notSuspended&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;aTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2009-10-01T11:59:31.571Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;cat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;pri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;color&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;red&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 3: An alarm message</p>
<p>The following table describes the variable content of the message which is
defined by the SXL.</p>
<p>The <em>SXL</em> columns describes the correlation between the JSon
elements and the titles in the signal exchange list (SXL).</p>
<table class="docutils align-default" id="id31">
<caption><span class="caption-number">Table 4.4 </span><span class="caption-text">Alarm message</span><a class="headerlink" href="#id31" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 24%" />
<col style="width: 24%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>aCId</p></td>
<td><p>alarmCodeId</p></td>
<td><p>[alarmCodeId] <a class="footnote-reference brackets" href="#f1" id="id4">1</a></p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Alarm-code-id"><span class="xref std std-term">Alarm code id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>xACId</p></td>
<td><p>externalAlarmCodeId</p></td>
<td><p>externalAlarmCodeId</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-External-alarm-code-id"><span class="xref std std-term">External alarm code id</span></a></p></td>
</tr>
<tr class="row-even"><td><p>xNACId</p></td>
<td><p>externalNtsAlarmCodeId</p></td>
<td><p>externalNtsAlarmcodeId</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-External-NTS-alarm-code-id"><span class="xref std std-term">External NTS alarm code id</span></a></p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id4">1</a></span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
<p>The following table describes additional variable content of the message.</p>
<table class="docutils align-default" id="id32">
<caption><span class="caption-number">Table 4.5 </span><span class="caption-text">Alarm status change</span><a class="headerlink" href="#id32" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Origin</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="7"><p>aSp</p></td>
<td><p>Issue</p></td>
<td><p>Site</p></td>
<td><p>An alarm becomes active/inactive.</p></td>
</tr>
<tr class="row-odd"><td><p>Request</p></td>
<td><p>Supervision system</p></td>
<td><p>Request the current state of an alarm</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>Acknowledge</p></td>
<td><p>Supervision system</p></td>
<td><p>Acknowledge an alarm</p></td>
</tr>
<tr class="row-odd"><td><p>Site</p></td>
<td><p>An alarm becomes acknowledged.</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>Suspend</p></td>
<td><p>Supervision system</p></td>
<td><p>Suspend an alarm</p></td>
</tr>
<tr class="row-odd"><td><p>Site</p></td>
<td><p>An alarm becomes suspended/unsuspended</p></td>
</tr>
<tr class="row-even"><td><p>Resume</p></td>
<td><p>Supervision system</p></td>
<td><p>Unsuspend an alarm</p></td>
</tr>
</tbody>
</table>
</section>
<section id="alarm-status">
<span id="id5"></span><h4><span class="section-number">4.4.1.1.2. </span>Alarm status<a class="headerlink" href="#alarm-status" title="Permalink to this headline"></a></h4>
<p>Alarm status are only used by alarm messages (not by alarm acknowledgement
or alarm suspend messages).</p>
<table class="docutils align-default" id="id33">
<caption><span class="caption-number">Table 4.6 </span><span class="caption-text">Alarm status</span><a class="headerlink" href="#id33" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 16%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="2"><p>ack</p></td>
<td><p>Acknowledged</p></td>
<td><p>The alarm is acknowledged</p></td>
</tr>
<tr class="row-odd"><td><p>notAcknowledged</p></td>
<td><p>The alarm is not acknowledged</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>aS</p></td>
<td><p>inActive</p></td>
<td><p>The alarm is inactive</p></td>
</tr>
<tr class="row-odd"><td><p>Active</p></td>
<td><p>The alarm is active</p></td>
</tr>
<tr class="row-even"><td rowspan="2"><p>sS</p></td>
<td><p>Suspended</p></td>
<td><p>The alarm is suspended</p></td>
</tr>
<tr class="row-odd"><td><p>notSuspended</p></td>
<td><p>The alarm is not suspended</p></td>
</tr>
<tr class="row-even"><td><p>aTs</p></td>
<td><p><em>(timestamp)</em></p></td>
<td><p>Timestamp for when the alarm changes status.
See the contents of aSp to determine which type of timestamp is used</p>
<div class="line-block">
<div class="line">- aSp: Issue: When the alarm gets <strong>active</strong> or <strong>inactive</strong></div>
<div class="line">- aSp: Acknowledge: When the alarm gets <strong>acknowledged</strong> or <strong>not acknowledged</strong></div>
<div class="line">- aSp: Suspend: When the alarm gets <strong>suspended</strong> or <strong>not suspended</strong></div>
</div>
<p>All timestamps are set at the local level (and not in the supervision system) when
the alarm occurs (and not when the message is sent).
See also the <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> section.</p>
</td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#alarm-transitions"><span class="std std-numref">Fig. 4.1</span></a> show possible transitions between
different alarm states.</p>
<p>Continuous lines defines possible alarm status changes controlled by logic
and dashed lines defines possible changes controlled by user.</p>
<figure class="align-center" id="alarm-transitions">
<img alt="Alarm transitions" src="../_images/alarm_transitions.png" />
<figcaption>
<p><span class="caption-number">Fig. 4.1 </span><span class="caption-text">Alarm transitions</span><a class="headerlink" href="#alarm-transitions" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>Alarms should not be sent unless:</p>
<ul class="simple">
<li><p>Alarms are unblocked and it’s state changes</p></li>
<li><p>Alarms are sent as part of
<a class="reference internal" href="transport_of_data.html#communication-establishment-between-sites-and-supervision-system"><span class="std std-ref">Communication establishment between sites and supervision system</span></a></p></li>
<li><p>Alarms are explicitly requested using <a class="reference internal" href="#alarmmessages-req"><span class="std std-ref">Structure for alarm request message</span></a></p></li>
</ul>
<p>The following table describes the variable content of the message which is
defined by the SXL.</p>
<p>The <em>SXL</em> columns describes the correlation between the JSon
elements and the titles in the signal exchange list (SXL).</p>
<table class="docutils align-default" id="id34">
<caption><span class="caption-number">Table 4.7 </span><span class="caption-text">Alarm status details defined by SXL</span><a class="headerlink" href="#id34" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 22%" />
<col style="width: 20%" />
<col style="width: 18%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cat</p></td>
<td><p>category</p></td>
<td><p>category</p></td>
<td><p><a class="reference internal" href="sxl.html#alarm-category"><span class="std std-ref">Alarm category</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><em>(not sent)</em></p></td>
<td><p>description</p></td>
<td><p>description</p></td>
<td><p><a class="reference internal" href="sxl.html#alarm-description"><span class="std std-ref">Alarm description</span></a></p></td>
</tr>
<tr class="row-even"><td><p>pri</p></td>
<td><p>priority</p></td>
<td><p>priority</p></td>
<td><p><a class="reference internal" href="sxl.html#alarm-priority"><span class="std std-ref">Alarm priority</span></a></p></td>
</tr>
</tbody>
</table>
</section>
<section id="return-values">
<span id="id6"></span><h4><span class="section-number">4.4.1.1.3. </span>Return values<a class="headerlink" href="#return-values" title="Permalink to this headline"></a></h4>
<p>Return values (“rvs”) are used by alarm messages (but not by alarm
acknowledgment or alarm suspend messages) and is always sent but can
be empty (i.e. <strong>[]</strong>) if no return values are defined.</p>
<table class="docutils align-default" id="id35">
<caption><span class="caption-number">Table 4.8 </span><span class="caption-text">Alarm return values</span><a class="headerlink" href="#id35" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 9%" />
<col style="width: 13%" />
<col style="width: 79%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rvs</p></td>
<td><p><em>(array)</em></p></td>
<td><p>Return values. Contains the element <strong>n</strong> and <strong>v</strong> in an array</p></td>
</tr>
</tbody>
</table>
<p>The following table describes the content for each return value which is
defined by the signal exchange list (SXL).</p>
<p>The <em>SXL</em> columns describes the correlation between the JSon
elements and the titles in the SXL.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 14%" />
<col style="width: 13%" />
<col style="width: 22%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>n</p></td>
<td><p>Name</p></td>
<td><p>[argument id] <a class="footnote-reference brackets" href="#f2" id="id7">2</a></p></td>
<td><p>Unique reference of the value</p></td>
</tr>
<tr class="row-odd"><td><p><em>(not sent)</em></p></td>
<td><p>Type</p></td>
<td><p>type</p></td>
<td><p>The <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> of the value</p></td>
</tr>
<tr class="row-even"><td><p>v</p></td>
<td><p>Value</p></td>
<td></td>
<td><p>Value from equipment</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f2"><span class="brackets"><a class="fn-backref" href="#id7">2</a></span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
</section>
<section id="structure-for-alarm-request-message">
<span id="alarmmessages-req"></span><h4><span class="section-number">4.4.1.1.4. </span>Structure for alarm request message<a class="headerlink" href="#structure-for-alarm-request-message" title="Permalink to this headline"></a></h4>
<p>An alarm request message has the structure according to the example below.</p>
<div class="highlight-json notranslate" id="json-alarm-req"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3d2a0097-f91c-4249-956b-dac702545b8f&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Request&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 4: An alarm request message</p>
</section>
<section id="structure-for-alarm-acknowledgement-message">
<span id="alarmmessages-ack"></span><h4><span class="section-number">4.4.1.1.5. </span>Structure for alarm acknowledgement message<a class="headerlink" href="#structure-for-alarm-acknowledgement-message" title="Permalink to this headline"></a></h4>
<p>An alarm acknowledgement message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-alarm-ack"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3d2a0097-f91c-4249-956b-dac702545b8f&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acknowledge&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 5: An alarm acknowledgement message which acknowledges an alarm</p>
<p>An alarm acknowledgement response message has the structure according to the
example below.</p>
<div class="highlight-json notranslate" id="json-alarm-ack-resp"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f6843ac0-40a0-424e-8ddf-d109f4cfe487&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acknowledge&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acknowledged&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notSuspended&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-05-29T08:55:04.691Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;pri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-18.5&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 6: Response of an alarm acknowledgement message</p>
</section>
<section id="structure-for-alarm-suspend-message">
<span id="alarmmessages-suspend"></span><h4><span class="section-number">4.4.1.1.6. </span>Structure for alarm suspend message<a class="headerlink" href="#structure-for-alarm-suspend-message" title="Permalink to this headline"></a></h4>
<p>An alarm suspend message has the structure according to the example below.</p>
<div class="highlight-json notranslate" id="json-alarm-suspend"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b6579d6d-3a9d-4169-b777-f094946a863e&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Suspend&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 7: Suspending an alarm using an alarm suspend message</p>
<div class="highlight-json notranslate" id="json-alarm-suspend-response"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2ea7edfc-8e3a-4765-85e7-db844c4702a0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Suspend&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acknowledged&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Suspended&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-05-29T08:56:25.390Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;pri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-18.5&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 8: Response of alarm suspend message</p>
<div class="highlight-json notranslate" id="json-alarm-resume"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2a744145-403a-423f-ba80-f38e283a778e&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Resume&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 9: Resuming an alarm using an alarm suspend message</p>
<div class="highlight-json notranslate" id="json-alarm-resume-response"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Alarm&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3313526e-b744-434a-b4dd-0cfa956512e0&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AB+84001=860VA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aCId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A0004&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNACId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Suspend&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ack&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Acknowledged&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Active&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;notSuspended&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-05-29T08:58:28.166Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cat&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;pri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Temp&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;-18.5&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 10: Response of a resume message</p>
<p>Allowed content in alarm suspend message is the same as for alarm messages
(See <a class="reference internal" href="#structure-of-an-alarm-message"><span class="std std-ref">Structure of an alarm message</span></a>) with the exception for alarm status
(See <a class="reference internal" href="#alarm-status"><span class="std std-ref">Alarm status</span></a>) and (See <a class="reference internal" href="#return-values"><span class="std std-ref">Return values</span></a>).</p>
</section>
</section>
<section id="message-exchange-between-site-and-supervision-system">
<h3><span class="section-number">4.4.1.2. </span>Message exchange between site and supervision system<a class="headerlink" href="#message-exchange-between-site-and-supervision-system" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figures.</p>
<p><strong>An alarm is active/inactive</strong></p>
<img alt="../_images/alarm_active_inactive.png" class="align-center" src="../_images/alarm_active_inactive.png" />
<ol class="arabic simple">
<li><p>An alarm message is sent to supervision system with the status of the alarm (the alarm is active/inactive)</p></li>
</ol>
<p><strong>An alarm is requested</strong></p>
<img alt="../_images/alarm_request.png" class="align-center" src="../_images/alarm_request.png" />
<ol class="arabic simple">
<li><p>An alarm is requested from the supervision system</p></li>
<li><p>An alarm message is sent to supervision system with the status of the alarm</p></li>
</ol>
<p><strong>An alarm is acknowledged at the supervision system</strong></p>
<img alt="../_images/alarm_ack_system.png" class="align-center" src="../_images/alarm_ack_system.png" />
<ol class="arabic simple">
<li><p>An alarm acknowledgement message is sent to the site</p></li>
<li><p>An alarm message is sent to the supervision system (that the alarm is acknowledged)</p></li>
</ol>
<p><strong>An alarm is acknowledged at the site</strong></p>
<img alt="../_images/alarm_ack_site.png" class="align-center" src="../_images/alarm_ack_site.png" />
<ol class="arabic simple">
<li><p>An alarm message is being sent to the supervision system with the status of the alarm (that the alarm is acknowledged)</p></li>
</ol>
<p><strong>An alarm is suspended/unsuspended from the supervision system</strong></p>
<img alt="../_images/alarm_suspend_system.png" class="align-center" src="../_images/alarm_suspend_system.png" />
<ol class="arabic simple">
<li><p>An alarm suspend message is being sent to the site</p></li>
<li><p>An alarm message is sent to the supervision system with the status of the alarm (that the suspension is activated/deactivated)</p></li>
</ol>
<p><strong>An alarm is suspended/unsuspended from the site</strong></p>
<img alt="../_images/alarm_suspend_site.png" class="align-center" src="../_images/alarm_suspend_site.png" />
<ol class="arabic simple">
<li><p>An alarm message is sent to the supervision system with the status of the alarm (that suspension is activated/deactivated)</p></li>
</ol>
</section>
</section>
<section id="aggregated-status-message">
<span id="id8"></span><h2><span class="section-number">4.4.2. </span>Aggregated status message<a class="headerlink" href="#aggregated-status-message" title="Permalink to this headline"></a></h2>
<p>This type of message is sent to the supervision system to inform about the
status of the site. The aggregated status applies to the object which is
defined by <strong>ObjectType</strong> in the signal exchange list. If no object is defined
then no aggregated status message is sent.</p>
<p>Aggregated status message are interaction driven and are sent if state,
functional position or functional status are changed at the site.</p>
<section id="id9">
<h3><span class="section-number">4.4.2.1. </span>Message structure<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<p>An aggregated status message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-agg-status"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AggregatedStatus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;be12ab9a-800c-4c19-8c50-adf832f22420&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;aSTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-06-08T08:05:06.584Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;fP&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;fS&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;se&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">             </span><span class="kc">true</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="p">,</span><span class="kc">false</span><span class="w"></span>
<span class="w">           </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 11: An aggregated status message</p>
<p>The following tables are describing the variable content of the message:</p>
<table class="docutils align-default" id="id36">
<caption><span class="caption-number">Table 4.9 </span><span class="caption-text">Aggregated status</span><a class="headerlink" href="#id36" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 8%" />
<col style="width: 15%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>aSTS</p></td>
<td><p><em>(timestamp)</em></p></td>
<td><p>Timestamp for the aggregated status.
All timestamps are set at the site (and not in the supervision
system) when the event occurs (and not when the message is sent).
See also the <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> section.</p></td>
</tr>
</tbody>
</table>
<p>The following table describes the variable content defined by the signal
exchange list (SXL). The <em>SXL</em> columns describes the correlation
between the JSon elements and the titles in the SXL.</p>
<table class="docutils align-default" id="id37">
<caption><span class="caption-number">Table 4.10 </span><span class="caption-text">Aggregated status SXL content</span><a class="headerlink" href="#id37" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 26%" />
<col style="width: 26%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>fP</p></td>
<td><p>functionalPosition</p></td>
<td><p>functional_position</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Functional-position"><span class="xref std std-term">Functional position</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>fS</p></td>
<td><p>functionalState</p></td>
<td><p>functional_state</p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Functional-state"><span class="xref std std-term">Functional state</span></a></p></td>
</tr>
<tr class="row-even"><td><p>se</p></td>
<td><p>State</p></td>
<td><p>1-8</p></td>
<td><p>Array of eight booleans</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">fP</span></code> and <code class="docutils literal notranslate"><span class="pre">fS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">null</span></code> or empty string if no value is defined
in the SXL.</p>
<section id="state">
<h4><span class="section-number">4.4.2.1.1. </span>State<a class="headerlink" href="#state" title="Permalink to this headline"></a></h4>
<ul class="simple">
<li><p><strong>State</strong> <code class="docutils literal notranslate"><span class="pre">se</span></code> is an array of eight booleans. The boolean elements defines
the status of the site to <a class="reference internal" href="../definitions.html#term-NTS"><span class="xref std std-term">NTS</span></a>.</p></li>
<li><p>It is technically valid in RSMP to set the boolean elements to a nonsensical
values, e.g. all boolean elements to <code class="docutils literal notranslate"><span class="pre">false</span></code>, but it is not defined how to
interpret it at the receiving end</p></li>
</ul>
<p>A definition of each boolean element (1-8) is presented in the figure below.
The signal exchange list (SXL) may define a more detailed definition.</p>
<img alt="../_images/agg_state_array.png" class="align-center" src="../_images/agg_state_array.png" />
</section>
</section>
</section>
<section id="aggregated-status-request-message">
<span id="aggregated-status-req"></span><h2><span class="section-number">4.4.3. </span>Aggregated status request message<a class="headerlink" href="#aggregated-status-request-message" title="Permalink to this headline"></a></h2>
<p>This type of message is sent from the supervision system to request the
latest aggregated status, in case the supervision system has lost track
of the current status.</p>
<section id="id10">
<h3><span class="section-number">4.4.3.1. </span>Message structure<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<p>An aggregated status request message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-agg-req-status"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AggregatedStatusRequest&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;be12ab9a-800c-4c19-8c50-adf832f22425&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 12: An aggregated status request message</p>
</section>
<section id="id11">
<h3><span class="section-number">4.4.3.2. </span>Message exchange between site and supervision system<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figures.</p>
<p><strong>Functional state, functional position or state booleans changes at the
site</strong></p>
<img alt="../_images/aggregated_status.png" class="align-center" src="../_images/aggregated_status.png" />
<ol class="arabic simple">
<li><p>An aggregated status message is sent to the supervision system.</p></li>
</ol>
<p><strong>The supervision system request aggregated status</strong></p>
<img alt="../_images/aggregated_status_request.png" class="align-center" src="../_images/aggregated_status_request.png" />
<ol class="arabic simple">
<li><p>An aggregated status request message is sent to the site.</p></li>
<li><p>An aggregated status message is sent to the supervision system.</p></li>
</ol>
</section>
</section>
<section id="status-messages">
<h2><span class="section-number">4.4.4. </span>Status Messages<a class="headerlink" href="#status-messages" title="Permalink to this headline"></a></h2>
<p>The status message is a type of message that is sent to the supervision
system or other equipment with the value of one or more requested
statuses, for the referenced object.</p>
<p>The status message can both be interaction driven or event driver and
can be sent during the following prerequisites:</p>
<ul class="simple">
<li><p>When status is requested from the supervision system or other equipment.</p></li>
<li><p>According to subscription – either by using a fixed time interval or
when the status changes.</p></li>
</ul>
<section id="id12">
<h3><span class="section-number">4.4.4.1. </span>Message structure<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<section id="structure-of-a-status-request">
<h4><span class="section-number">4.4.4.1.1. </span>Structure of a status request<a class="headerlink" href="#structure-of-a-status-request" title="Permalink to this headline"></a></h4>
<p>A status request message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-status-req"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusRequest&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f1a13213-b90a-4abc-8953-2b8142923c55&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0003&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inputstatus&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0003&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;extendedinputstatus&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 13: A status request message</p>
<p>The status code id (<code class="docutils literal notranslate"><span class="pre">sCI</span></code>) and name (<code class="docutils literal notranslate"><span class="pre">n</span></code>) are placed in an array
(<code class="docutils literal notranslate"><span class="pre">sS</span></code>) in order to enable support for requesting multiple status at
once.</p>
<p>The following table is describing the variable content of the message.</p>
<p>The <em>SXL</em> columns describes the correlation between the JSon
elements and the titles in the SXL.</p>
<table class="docutils align-default" id="id38">
<caption><span class="caption-number">Table 4.11 </span><span class="caption-text">Status request</span><a class="headerlink" href="#id38" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 16%" />
<col style="width: 16%" />
<col style="width: 28%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sCI</p></td>
<td><p>statusCodeId</p></td>
<td><p>[statusCodeId] <a class="footnote-reference brackets" href="#f3" id="id13">3</a></p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Status-code-id"><span class="xref std std-term">Status code id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>n</p></td>
<td><p>Name</p></td>
<td><p>[argument id] <a class="footnote-reference brackets" href="#f3" id="id14">3</a></p></td>
<td><p>Unique reference of the value</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f3"><span class="brackets">3</span><span class="fn-backref">(<a href="#id13">1</a>,<a href="#id14">2</a>)</span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
</section>
<section id="structure-for-status-response-message">
<h4><span class="section-number">4.4.4.1.2. </span>Structure for status response message<a class="headerlink" href="#structure-for-status-response-message" title="Permalink to this headline"></a></h4>
<p>A status response message has the structure according to the example below.</p>
<p>The status code id (<code class="docutils literal notranslate"><span class="pre">sCI</span></code>) and name (<code class="docutils literal notranslate"><span class="pre">n</span></code>) are placed in an array
(<code class="docutils literal notranslate"><span class="pre">sS</span></code>) in order to enable support for responding to multiple statuses at once.
The following table is describing the variable content of the message.</p>
<div class="highlight-json notranslate" id="json-status-response"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusResponse&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0a95e463-192a-4dd7-8b57-d2c2da636584&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-06-08T09:15:18.266Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0003&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;inputstatus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;100101&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0003&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;extendedinputstatus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;100100101&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 14: A status response message</p>
<p>The following table is describing the variable content of the message:</p>
<table class="docutils align-default" id="id39">
<caption><span class="caption-number">Table 4.12 </span><span class="caption-text">Status response</span><a class="headerlink" href="#id39" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 21%" />
<col style="width: 38%" />
<col style="width: 41%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sTs</p></td>
<td><p><em>(timestamp)</em></p></td>
<td><p>Timestamp</p></td>
</tr>
</tbody>
</table>
<p>All timestamps are set at the site (and not in the supervision system) when
the status is fetched (and not when the message is sent).
See also the <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> section.</p>
</section>
<section id="return-values-returnvalue">
<h4><span class="section-number">4.4.4.1.3. </span>Return values (returnvalue)<a class="headerlink" href="#return-values-returnvalue" title="Permalink to this headline"></a></h4>
<p>Return values (“sS”) are always sent but can be empty if no return values exists.</p>
<table class="docutils align-default" id="id40">
<caption><span class="caption-number">Table 4.13 </span><span class="caption-text">Return values (returnvalue)</span><a class="headerlink" href="#id40" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sS</p></td>
<td><p><em>(array)</em></p></td>
<td><p>Return values. Contains the elements “sCI”, “s”, “n” and “q” in an array.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default" id="id41">
<caption><span class="caption-number">Table 4.14 </span><span class="caption-text">Return values (returnvalue)</span><a class="headerlink" href="#id41" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 13%" />
<col style="width: 24%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sCI</p></td>
<td><p>statusCodeId</p></td>
<td><p>[statusCodeId] <a class="footnote-reference brackets" href="#f4" id="id15">4</a></p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Status-code-id"><span class="xref std std-term">Status code id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>n</p></td>
<td><p>Name</p></td>
<td><p>[argument id] <a class="footnote-reference brackets" href="#f4" id="id16">4</a></p></td>
<td><p>Unique reference of the value</p></td>
</tr>
<tr class="row-even"><td><p><em>(not sent)</em></p></td>
<td><p>Type</p></td>
<td><p>type</p></td>
<td><p>The <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> of the value.</p></td>
</tr>
<tr class="row-odd"><td><p>s</p></td>
<td><p>Value</p></td>
<td></td>
<td><p>Value from equipment</p></td>
</tr>
<tr class="row-even"><td><p><em>(not sent)</em></p></td>
<td><p>Comment</p></td>
<td><p>description</p></td>
<td><p>Description for the status request.</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f4"><span class="brackets">4</span><span class="fn-backref">(<a href="#id15">1</a>,<a href="#id16">2</a>)</span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
<p>The following table describes additional variable content of the message.</p>
<table class="docutils align-default" id="id42">
<caption><span class="caption-number">Table 4.15 </span><span class="caption-text">Return value quality</span><a class="headerlink" href="#id42" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 24%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>q</p></td>
<td><p>recent</p></td>
<td><p>The value is up to date</p></td>
</tr>
<tr class="row-odd"><td><p>old</p></td>
<td><p>The value is not up to date.
Used when sending buffered values</p></td>
</tr>
<tr class="row-even"><td><p>undefined</p></td>
<td><p>The component does not exist</p></td>
</tr>
<tr class="row-odd"><td><p>unknown</p></td>
<td><p>The value is unknown</p></td>
</tr>
</tbody>
</table>
<p>If the component does not exist or the value <code class="docutils literal notranslate"><span class="pre">s</span></code> is unknown then:</p>
<ul class="simple">
<li><p>Subscription will not be performed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code> is set according to the table above</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code> must be set to <code class="docutils literal notranslate"><span class="pre">null</span></code></p></li>
</ul>
</section>
<section id="structure-for-a-status-subscription-request-message">
<h4><span class="section-number">4.4.4.1.4. </span>Structure for a status subscription request message<a class="headerlink" href="#structure-for-a-status-subscription-request-message" title="Permalink to this headline"></a></h4>
<p>A message with the request of subscription to a status has the
structure according to the example below. The message is used for
constructing a list of subscriptions of statuses, digital and analogue
values and events that are desirable to send to supervision system,
e.g. temperature, wind speed, power consumption, manual control.</p>
<div class="highlight-json notranslate" id="json-status-subscribe"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusSubscribe&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;d6d97f8b-e9db-4572-8084-70b55e312584&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;signalgroupstatus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cyclecounter&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basecyclecounter&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stage&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 15: A status subscribe message</p>
<p>The following table is describing the variable content of the message:</p>
<table class="docutils align-default" id="id43">
<caption><span class="caption-number">Table 4.16 </span><span class="caption-text">Status Request</span><a class="headerlink" href="#id43" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 26%" />
<col style="width: 32%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>uRt</p></td>
<td><p><em>(string)</em></p></td>
<td><p>updateRate</p></td>
</tr>
<tr class="row-odd"><td><p>sOc</p></td>
<td><p>boolean</p></td>
<td><p>sendOnChange</p></td>
</tr>
</tbody>
</table>
<p>The <strong>updateRate</strong> <code class="docutils literal notranslate"><span class="pre">uRt</span></code> and <strong>sendOnChange</strong> <code class="docutils literal notranslate"><span class="pre">sOc</span></code> determines when a
status update should be sent.</p>
<p>The following applies:</p>
<ul class="simple">
<li><p><strong>updateRate</strong> defines a specific interval when to send updates.
Defined in seconds with decimals, e.g. “2.5” for 2.5 seconds.
Dot (.) is used as a decimal point.</p></li>
<li><p>If <strong>updateRate</strong> is set to “0” it means that no update is sent using an
interval.</p></li>
<li><p><strong>sendOnChange</strong> defines if an status update should be sent as soon as the
value changes.</p></li>
<li><p>It is possible to combine <strong>updateRate</strong> and <strong>sendOnChange</strong> to send an
update when the value changes and at the same time using a specific
interval.</p></li>
<li><p>If <strong>updateRate</strong> and <strong>sendOnChange=true</strong> are combined, the updateRate
timer is reset when the value changes.
For example, if updateRate is set to 5 seconds but the value changes after
2 seconds (triggering sendOnChange) the updateRate timer starts over and
waits another 5 seconds to trigger.</p></li>
<li><p>It is not valid to set <strong>updateRate=0</strong> and <strong>sendOnChange=false</strong> since
it means that no subscription updates will be sent.</p></li>
<li><p>It is allowed to change <strong>updateRate</strong> and <strong>sendOnChange</strong> by sending a
new StatusSubscribe during an active subscription.</p></li>
</ul>
</section>
<section id="structure-for-a-status-update-message">
<h4><span class="section-number">4.4.4.1.5. </span>Structure for a status update message<a class="headerlink" href="#structure-for-a-status-update-message" title="Permalink to this headline"></a></h4>
<p>The status update message is an answer to a request for status subscription.
It has the structure according to the example below.</p>
<p>The following applies:</p>
<ul class="simple">
<li><p>A StatusUpdate is always sent immediately after subscription request,
unless the subscription is already active. The reason for sending the
response immediately is because subscriptions usually are established
shortly after RSMP connection establishment and the supervision system
needs to update with the current statuses.</p></li>
<li><p>If an subscription is already active then the site must not establish
a new subscription but use the existing one. It’s allowed to change
<strong>updateRate</strong> and <strong>sendOnChange</strong>.</p></li>
</ul>
<div class="highlight-json notranslate" id="json-status-update"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusUpdate&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dabb67f9-2601-4db9-bb8a-c7c47f57e100&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-06-08T09:33:04.735Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;signalgroupstatus&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A021BC01&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cyclecounter&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;20&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basecyclecounter&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stage&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 16: A status update message</p>
<p>The allowed content is described in Table
<a class="reference internal" href="#table-statusresponse"><span class="std std-ref">Status response</span></a> and
<a class="reference internal" href="#table-statusresponse-returnvalues"><span class="std std-ref">Return values</span></a>.</p>
<p>Since different UpdateRate can be defined for different objects it means that
partial StatusUpdates can be sent.</p>
<div class="highlight-json notranslate" id="json-status-request-partial"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusSubscribe&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6bbcb26e-78fe-4517-9e3d-8bb4f972c076&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0096&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hour&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;120&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0096&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;minute&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;uRt&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;60&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sOc&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 17: A subscription request to subscribe to statues with different update rates</p>
<div class="highlight-json notranslate" id="json-status-request-partial-resp"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusUpdate&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b6bd7c96-f150-4756-9752-47a661e116db&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-05-29T13:47:56.740Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0096&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;minute&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;s&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;47&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;q&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 18: A partial status update. Only a single status is updated</p>
</section>
<section id="structure-for-a-status-unsubscription-message">
<h4><span class="section-number">4.4.4.1.6. </span>Structure for a status unsubscription message<a class="headerlink" href="#structure-for-a-status-unsubscription-message" title="Permalink to this headline"></a></h4>
<p>A message with the request of unsubscription to a status has the structure
according to the example below. The request unsubscribes on one or several
statuses. No particular answer is sent for this request, other than the
usual message acknowledgement.</p>
<div class="highlight-json notranslate" id="json-status-unsubscribe"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;StatusUnsubscribe&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;5ff528c5-f2f0-4bc4-a335-280c52b6e6d8&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;sS&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;signalgroupstatus&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cyclecounter&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;basecyclecounter&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;S0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;stage&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 19: A status unsubscribe message</p>
<p>The allowed content is described in Table
<a class="reference internal" href="#table-statusrequest"><span class="std std-ref">Status Request</span></a></p>
</section>
</section>
<section id="message-exchange-between-site-and-supervision-system-other-equipment-request">
<h3><span class="section-number">4.4.4.2. </span>Message exchange between site and supervision system/other equipment - request<a class="headerlink" href="#message-exchange-between-site-and-supervision-system-other-equipment-request" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figure.</p>
<img alt="../_images/status_request_response.png" class="align-center" src="../_images/status_request_response.png" />
<ol class="arabic simple">
<li><p>Status request</p></li>
<li><p>Status response</p></li>
</ol>
</section>
<section id="message-exchange-between-site-and-supervision-system-other-equipment-subscription">
<h3><span class="section-number">4.4.4.3. </span>Message exchange between site and supervision system/other equipment - subscription<a class="headerlink" href="#message-exchange-between-site-and-supervision-system-other-equipment-subscription" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figure.</p>
<img alt="../_images/status_update.png" class="align-center" src="../_images/status_update.png" />
<p>Example of message exchange with subscription, status updates and unsubscription.</p>
</section>
</section>
<section id="command-messages">
<h2><span class="section-number">4.4.5. </span>Command messages<a class="headerlink" href="#command-messages" title="Permalink to this headline"></a></h2>
<p>Command messages are used to give order using one or more commands, for the
referenced object.
The site responds with a command acknowledgement.</p>
<p>All arguments needs to included in a command, otherwise it results a serious
error resulting in MessageNotAck. See section about <a class="reference internal" href="error_handling.html#incomplete-commands"><span class="std std-ref">Incomplete commands</span></a>.</p>
<p>Command messages are interaction driven and are sent when command are
requested on any given object by the supervision system or other equipment</p>
<section id="id17">
<h3><span class="section-number">4.4.5.1. </span>Message structure<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<section id="structure-of-a-command-request">
<h4><span class="section-number">4.4.5.1.1. </span>Structure of a command request<a class="headerlink" href="#structure-of-a-command-request" title="Permalink to this headline"></a></h4>
<p>A command request message has the structure according to the example
below. A command request message with the intent to change a value of the
requested object</p>
<div class="highlight-json notranslate" id="json-command-req"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CommandRequest&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;cf76365e-9c7b-44a4-86bd-d107cdfc3fcf&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;arg&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;status&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cO&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;setValue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YellowFlash&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;securityCode&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cO&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;setValue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cO&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;setValue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;intersection&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cO&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;setValue&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 20: A command request message</p>
<p>The command code (<code class="docutils literal notranslate"><span class="pre">cCI</span></code>) and name (<code class="docutils literal notranslate"><span class="pre">n</span></code>) are placed in an array
(<code class="docutils literal notranslate"><span class="pre">arg</span></code>) in order to enable support for requesting multiple commands at
once.</p>
<p>The following table is describing the variable content of the message:</p>
<p>Values to send with the command (arguments)</p>
<table class="docutils align-default" id="id44">
<caption><span class="caption-number">Table 4.17 </span><span class="caption-text">Command argument</span><a class="headerlink" href="#id44" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 13%" />
<col style="width: 13%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>arg</p></td>
<td><p><em>(array)</em></p></td>
<td><p>Argument. Contains the element <strong>cCI</strong>, <strong>n</strong>, <strong>cO</strong>, <strong>v</strong> in an array</p></td>
</tr>
</tbody>
</table>
<p>The following table describes the variable content of the message which is
defined by the SXL.</p>
<p>The <em>SXL</em> columns describes the correlation between the JSon
elements and the titles in the signal exchange list (SXL).</p>
<table class="docutils align-default" id="id45">
<caption><span class="caption-number">Table 4.18 </span><span class="caption-text">Command arguments defined by SXL</span><a class="headerlink" href="#id45" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 15%" />
<col style="width: 23%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cCI</p></td>
<td><p>commandCodeId</p></td>
<td><p>[commandCodeId] <a class="footnote-reference brackets" href="#f5" id="id18">5</a></p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Command-code-id"><span class="xref std std-term">Command code id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><em>(not sent)</em></p></td>
<td><p>Description</p></td>
<td><p>description</p></td>
<td><p>Description for the command request.</p></td>
</tr>
<tr class="row-even"><td><p>n</p></td>
<td><p>Name</p></td>
<td><p>[argument] <a class="footnote-reference brackets" href="#f5" id="id19">5</a></p></td>
<td><p>Unique reference of the value</p></td>
</tr>
<tr class="row-odd"><td><p>cO</p></td>
<td><p>Command</p></td>
<td><p>command</p></td>
<td><p>Command</p></td>
</tr>
<tr class="row-even"><td><p><em>(not sent)</em></p></td>
<td><p>Type</p></td>
<td><p>type</p></td>
<td><p>The <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> of the value.</p></td>
</tr>
<tr class="row-odd"><td><p>v</p></td>
<td><p>Value</p></td>
<td></td>
<td><p>Value</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f5"><span class="brackets">5</span><span class="fn-backref">(<a href="#id18">1</a>,<a href="#id19">2</a>)</span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
</section>
<section id="structure-of-a-command-response-message">
<h4><span class="section-number">4.4.5.1.2. </span>Structure of a command response message<a class="headerlink" href="#structure-of-a-command-response-message" title="Permalink to this headline"></a></h4>
<p>A command response message has the structure according to the example
below. A command response message informs about the updated value of the
requested object.</p>
<p>The command code (<code class="docutils literal notranslate"><span class="pre">cCI</span></code>) and name (<code class="docutils literal notranslate"><span class="pre">n</span></code>) are placed in an array
(<code class="docutils literal notranslate"><span class="pre">rvs</span></code>) in order to enable support for responding to multiple commands at
once.</p>
<div class="highlight-json notranslate" id="json-command-response"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CommandResponse&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;0fd63726-be19-4c09-8553-48451735cb0b&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;ntsOId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;xNId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;cTS&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-06-08T11:49:03.293Z&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;rvs&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">          </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;status&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;YellowFlash&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;securityCode&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;123&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;timeout&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;30&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;cCI&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;M0001&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;n&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;intersection&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;v&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;age&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;recent&quot;</span><span class="w"></span>
<span class="w">          </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 21: A command response message</p>
<p>The following table is describing the variable content of the message:</p>
<table class="docutils align-default" id="id46">
<caption><span class="caption-number">Table 4.19 </span><span class="caption-text">Command response</span><a class="headerlink" href="#id46" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 8%" />
<col style="width: 15%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cTS</p></td>
<td><p><em>(timestamp)</em></p></td>
<td><p>Timestamp for the command reponse.
All timestamps are set at the site (and not in the supervision
system) when the event occurs (and not when the message is sent).
See also the <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> section.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id20">
<h4><span class="section-number">4.4.5.1.3. </span>Return values (returnvalue)<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h4>
<p>Return values (<strong>rvs</strong>) is always sent but can
be empty if not return values are defined.</p>
<table class="docutils align-default" id="id47">
<caption><span class="caption-number">Table 4.20 </span><span class="caption-text">Command return values</span><a class="headerlink" href="#id47" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 9%" />
<col style="width: 9%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rvs</p></td>
<td><p><em>(array)</em></p></td>
<td><p>Return values. Contains the elements <strong>cCI</strong>, <strong>v</strong>, <strong>n</strong> and <strong>q</strong> in an array.</p></td>
</tr>
</tbody>
</table>
<p>The following table describes the variable content defined by the signal
exchange list (SXL). The <em>SXL</em> columns describes the correlation
between the JSon elements and the titles in the SXL.</p>
<table class="docutils align-default" id="id48">
<caption><span class="caption-number">Table 4.21 </span><span class="caption-text">Command return value defined by SXL</span><a class="headerlink" href="#id48" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 15%" />
<col style="width: 23%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>SXL (Excel)</p></th>
<th class="head"><p>SXL (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>cCI</p></td>
<td><p>commandCodeId</p></td>
<td><p>[commandCodeId] <a class="footnote-reference brackets" href="#f6" id="id21">6</a></p></td>
<td><p><a class="reference internal" href="../definitions.html#term-Command-code-id"><span class="xref std std-term">Command code id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>n</p></td>
<td><p>Name</p></td>
<td><p>[argument id] <a class="footnote-reference brackets" href="#f6" id="id22">6</a></p></td>
<td><p>Unique reference of the value</p></td>
</tr>
<tr class="row-even"><td><p><em>(not sent)</em></p></td>
<td><p>Type</p></td>
<td><p>type</p></td>
<td><p>The <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> of the value.</p></td>
</tr>
<tr class="row-odd"><td><p>v</p></td>
<td><p>Value</p></td>
<td></td>
<td><p>Value</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="f6"><span class="brackets">6</span><span class="fn-backref">(<a href="#id21">1</a>,<a href="#id22">2</a>)</span></dt>
<dd><p>See <a class="reference internal" href="sxl.html#signal-exchange-list"><span class="std std-ref">Signal Exchange List</span></a></p>
</dd>
</dl>
<p>The following table describes additional variable content of the message.</p>
<table class="docutils align-default" id="id49">
<caption><span class="caption-number">Table 4.22 </span><span class="caption-text">Command return value</span><a class="headerlink" href="#id49" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 24%" />
<col style="width: 56%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td rowspan="4"><p>age</p></td>
<td><p>recent</p></td>
<td><p>The value is up to date</p></td>
</tr>
<tr class="row-odd"><td><p>old</p></td>
<td><p>The value is not up to date</p></td>
</tr>
<tr class="row-even"><td><p>undefined</p></td>
<td><p>The component does not exist.
<strong>v</strong> should be set to <strong>null</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p>unknown</p></td>
<td><p>The value is unknown.
<strong>v</strong> should be set to <strong>null</strong>.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="message-exchange-between-site-and-supervision-system-other-equipment">
<h3><span class="section-number">4.4.5.2. </span>Message exchange between site and supervision system/other equipment<a class="headerlink" href="#message-exchange-between-site-and-supervision-system-other-equipment" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figure.</p>
<img alt="../_images/command_request_response.png" class="align-center" src="../_images/command_request_response.png" />
<ol class="arabic simple">
<li><p>Command request</p></li>
<li><p>Command response</p></li>
</ol>
</section>
</section>
<section id="message-acknowledgement">
<span id="id23"></span><h2><span class="section-number">4.4.6. </span>Message acknowledgement<a class="headerlink" href="#message-acknowledgement" title="Permalink to this headline"></a></h2>
<p>Message acknowledgement is sent as an initial answer to all other
messages. This type of message should not be mixed up with alarm
acknowledgement, which has a different function. The purpose of
message acknowledgement is to detect communication disruptions,
function as an acknowledgment that the message has reached its
destination and to verify that the message was understood.</p>
<p>There are two types of message acknowledgement – <strong>Message
acknowledgment</strong> (MessageAck) which confirms that the message was understood and
<strong>Message not acknowledged</strong> (MessageNotAck) which indicates that the message
was not understood.</p>
<ul class="simple">
<li><p>If no message acknowledgement is received within a predefined time, then
each communicating party should treat it as a communication disruption.
(See <a class="reference internal" href="transport_of_data.html#communication-disruption"><span class="std std-ref">Communication disruption</span></a>)</p></li>
<li><p>The default timeout value should be 30 seconds.</p></li>
<li><p>If the version messages has not been exchanged according to communication
establishment sequence
(See <a class="reference internal" href="transport_of_data.html#communication-establishment-between-sites-and-supervision-system"><span class="std std-ref">Communication establishment between sites and supervision system</span></a>
and <a class="reference internal" href="transport_of_data.html#communication-establishment-between-sites"><span class="std std-ref">Communication establishment between sites</span></a>) then
message acknowledgement (MessageAck/MessageNotAck) should not be sent as a
response to any other messages other than the version message
(See <a class="reference internal" href="#rsmpsxl-version"><span class="std std-ref">RSMP/SXL Version</span></a>). The lack of acknowledgement forces the other
communicating party to treat it as communication disruption and disconnect
and reconnect, ensuring that the connection restarts with communication
establishment sequence.</p></li>
</ul>
<p>The acknowledgement messages are interaction driven and are sent when
any other type message are received.</p>
<section id="message-structure-message-acknowledgement">
<h3><span class="section-number">4.4.6.1. </span>Message structure – Message acknowledgement<a class="headerlink" href="#message-structure-message-acknowledgement" title="Permalink to this headline"></a></h3>
<p>An acknowledgement message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-ack"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MessageAck&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;oMId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;49c6c824-d593-4c16-b335-f04feda16986&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 22: An acknowledgement message</p>
</section>
<section id="message-structure-message-not-acknowledged">
<h3><span class="section-number">4.4.6.2. </span>Message structure – Message not acknowledged<a class="headerlink" href="#message-structure-message-not-acknowledged" title="Permalink to this headline"></a></h3>
<p>A “not acknowledgement” message has the structure according to the example
below.</p>
<div class="highlight-json notranslate" id="json-notack"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;MessageNotAck&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;oMId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;554dff0-9cc5-4232-97a9-018d5796e86a&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;rea&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Unknown packet type: Watchdddog&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 23: A not acknowledgement message</p>
<p>The following table is describing the variable content of the message:</p>
<table class="docutils align-default" id="id50">
<caption><span class="caption-number">Table 4.23 </span><span class="caption-text">Message not ack</span><a class="headerlink" href="#id50" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 7%" />
<col style="width: 11%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>rea</p></td>
<td><p><em>(optional)</em></p></td>
<td><p>Error message where all relevant information about the nature of the error can be provided.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id24">
<h3><span class="section-number">4.4.6.3. </span>Message exchange between site and supervision system/other equipment<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h3>
<p>Supervision system sends initial message</p>
<img alt="../_images/message_ack_system.png" class="align-center" src="../_images/message_ack_system.png" />
<ol class="arabic simple">
<li><p>A message is sent from supervision system or other equipment</p></li>
<li><p>The site responds with an message acknowledgement</p></li>
</ol>
<p>Site sends initial message</p>
<img alt="../_images/message_ack_site.png" class="align-center" src="../_images/message_ack_site.png" />
<ol class="arabic simple">
<li><p>A message is sent from the site</p></li>
<li><p>The supervision system or other equipment responds with an message acknowledgement</p></li>
</ol>
</section>
</section>
<section id="rsmp-sxl-version">
<span id="rsmpsxl-version"></span><h2><span class="section-number">4.4.7. </span>RSMP/SXL Version<a class="headerlink" href="#rsmp-sxl-version" title="Permalink to this headline"></a></h2>
<p>RSMP/SXL Version is the initial message when establishing communication.</p>
<p>It contains:</p>
<ul class="simple">
<li><p>Site Id</p></li>
<li><p>SXL revision</p></li>
<li><p>All supported RSMP versions</p></li>
</ul>
<p>The Site Id and SXL revision must match between the communicating parties.</p>
<p>If there is a mismatch or if there are no RSMP version that both
communicating parties support, see <a class="reference internal" href="transport_of_data.html#communication-rejection"><span class="std std-ref">Communication rejection</span></a>.</p>
<p>The version message should be implemented in such a way that it should be
possible to add additional tags/variables (e.g. date) without affecting
existing implementations.</p>
<p>The principle of the message exchange is defined by the communication
establishment (See
<a class="reference internal" href="transport_of_data.html#communication-establishment-between-sites-and-supervision-system"><span class="std std-ref">Communication establishment between sites and supervision system</span></a>
and <a class="reference internal" href="transport_of_data.html#communication-establishment-between-sites"><span class="std std-ref">Communication establishment between sites</span></a>).</p>
<section id="id25">
<h3><span class="section-number">4.4.7.1. </span>Message structure<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<p>A version message has the structure according to the example below. In
the example below the system has support for RSMP version <strong>3.1.1</strong>,
<strong>3.1.2</strong> and SXL version <strong>1.0.13</strong> for site <strong>O+14439=481WA001</strong>.</p>
<div class="highlight-json notranslate" id="json-version"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Version&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;6f968141-4de5-42ff-8032-45f8093762c5&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;RSMP&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;vers&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.1.1&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">},{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;vers&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3.1.2&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">],</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;siteId&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">         </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="nt">&quot;sId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;O+14439=481WA001&quot;</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">],</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;SXL&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1.0.13&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 24: A RSMP / SXL message</p>
<p>The following table describes the variable content of the message which is
defined by the SXL.</p>
<p>The <em>Site config</em> columns describes the correlation between the JSon
elements and the titles in the site configuration.</p>
<table class="docutils align-default" id="id51">
<caption><span class="caption-number">Table 4.24 </span><span class="caption-text">Version information defined by site configuration</span><a class="headerlink" href="#id51" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 10%" />
<col style="width: 28%" />
<col style="width: 25%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Site config (Excel)</p></th>
<th class="head"><p>Site config (YAML)</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sId</p></td>
<td><p>SiteId</p></td>
<td></td>
<td><p><a class="reference internal" href="../definitions.html#term-Site-id"><span class="xref std std-term">Site id</span></a></p></td>
</tr>
<tr class="row-odd"><td><p>SXL</p></td>
<td><p>SXL revision</p></td>
<td><p>version</p></td>
<td><p>Revision of SXL. E.g ”1.3”</p></td>
</tr>
</tbody>
</table>
<p>It is possible to use more than one site id in a single RSMP connection.
Therefore the site ids that are used in the RSMP connection are sent
in the message using an array with <code class="docutils literal notranslate"><span class="pre">sId</span></code>.</p>
<p>The following table describes additional variable content of the message.</p>
<table class="docutils align-default" id="id52">
<caption><span class="caption-number">Table 4.25 </span><span class="caption-text">Version information</span><a class="headerlink" href="#id52" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 6%" />
<col style="width: 94%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>vers</p></td>
<td><p>Version of RSMP. E.g. ”3.1.2”, ”3.1.3” or ”3.1.4”. All the supported RSMP versions are sent in the message using an array (<strong>RSMP</strong>).</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="watchdog">
<span id="id26"></span><h2><span class="section-number">4.4.8. </span>Watchdog<a class="headerlink" href="#watchdog" title="Permalink to this headline"></a></h2>
<p>The primary purpose of watchdog messages is to ensure that the
communication remains established and to detect any communication
disruptions between site and supervision system. For any subsystem
alarms are used instead.</p>
<p>The secondary purpose of watchdog messages is to provide a timestamp that can
be used for simple time synchronization.</p>
<ul class="simple">
<li><p>Time synchronization using the watchdog message should be configurable at the
site (enabled/disabled)</p></li>
<li><p>If time synchronization is enabled, the site should synchronize its clock
using the timestamp from watchdog messages – at communication establishment and
then at least once every 24 hours.</p></li>
<li><p>The interval duration for sending watchdog messages should be
configurable at both the site and the supervision system. The default
setting should be (1) once a minute.</p></li>
</ul>
<p>Watchdog messages are sent in both directions, both from the site and
from the supervision system. At initial communication establishment
(after version message) the watchdog message should be sent.</p>
<section id="id27">
<h3><span class="section-number">4.4.8.1. </span>Message structure<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<p>A watchdog message has the structure according to the example below.</p>
<div class="highlight-json notranslate" id="json-watchdog"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mType&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rSMsg&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Watchdog&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;mId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;f48900bc-e6fb-431a-8ca4-05070016f64a&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="nt">&quot;wTs&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2015-06-08T12:01:39.654Z&quot;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>JSon code 25: A watchdog message</p>
<p>The following table is describing the variable content of the message:</p>
<table class="docutils align-default" id="id53">
<caption><span class="caption-number">Table 4.26 </span><span class="caption-text">Watchdog</span><a class="headerlink" href="#id53" title="Permalink to this table"></a></caption>
<colgroup>
<col style="width: 8%" />
<col style="width: 15%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>wTs</p></td>
<td><p><em>(timestamp)</em></p></td>
<td><p>Timestamp for the watchdog.
See also the <a class="reference internal" href="data_types.html#data-types"><span class="std std-ref">data type</span></a> section.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id28">
<h3><span class="section-number">4.4.8.2. </span>Message exchange between site and supervision system/other equipment<a class="headerlink" href="#id28" title="Permalink to this headline"></a></h3>
<p>Message acknowledgement (see section <a class="reference internal" href="#message-acknowledgement"><span class="std std-ref">Message acknowledgement</span></a>) is
implicit in the following figures.</p>
<p>Site sends watchdog message</p>
<img alt="../_images/watchdog_site.png" src="../_images/watchdog_site.png" />
<ol class="arabic simple">
<li><p>Watchdog message is sent from site</p></li>
</ol>
<p>Supervision system/other equipment sends watchdog message</p>
<img alt="../_images/watchdog_system.png" src="../_images/watchdog_system.png" />
<ol class="arabic simple">
<li><p>Watchdog message is sent from supervision system/other equipment</p></li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="transport_of_data.html" class="btn btn-neutral float-left" title="4.3. Transport of data" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="error_handling.html" class="btn btn-neutral float-right" title="4.5. Error handling" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright RSMP Nordic.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>